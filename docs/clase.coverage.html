<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coverage &mdash; HW Verif  documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #00c0f3 " >
            <a href="index.html"><img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="carta.html">1. Programa del Curso</a></li>
<li class="toctree-l1"><a class="reference internal" href="clases_all.html">2. Clases</a></li>
<li class="toctree-l1"><a class="reference internal" href="env.html">3. Ambiente de Verificación</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">4. Diseño</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest.html">5. ReST</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #00c0f3 " >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">HW Verif</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Coverage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/clase.coverage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="coverage">
<h1>Coverage<a class="headerlink" href="#coverage" title="Permalink to this headline"></a></h1>
<ul class="simple">
<li><p>Estructural</p></li>
<li><p>Assertions</p></li>
<li><p>Funcional</p></li>
<li><p>Tape-out</p></li>
<li><p>Cov SV</p></li>
<li><p>Cross Cov</p></li>
</ul>
<div class="section" id="cobertura-de-verificacion">
<h2>Cobertura de verificación<a class="headerlink" href="#cobertura-de-verificacion" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li class="fragment"><p>El equipo de verificación requiere de métricas para medir la calidad y el avance a través del tiempo.</p></li>
<li class="fragment"><p>La cobertura de verificación es la medición de espacio de estados que se han ejercitado dentro del ambiente de verificación.</p>
<ul>
<li><p>Cobertura de prueba: mide la cobertura de un estimulo con respecto a la especificación del diseño.</p></li>
<li><p>Cobertura de implementación: mide la cobertura de función implementada en el DUV.</p></li>
</ul>
</li>
<li class="fragment"><p>El objetivo del análisis de cobertura es la de guiar el proceso de verificación, no la de probar su completitud.</p></li>
</ul>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/coverage.1.png"><img alt="_images/coverage.1.png" src="_images/coverage.1.png" style="width: 607.5999999999999px; height: 482.99999999999994px;" /></a>
</div>
<blockquote class="pull-quote">
<div><p>Coverage isn’t an end in itself, it’s a mean to an end (finding bugs).
It’s what you find in the course of driving up coverage that is important.
– Milburn’s observation</p>
</div></blockquote>
</div>
<div class="section" id="cobertura-estructural">
<h2>Cobertura Estructural<a class="headerlink" href="#cobertura-estructural" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Estos modelos de cobertura están ligados a un aspecto estructural de la implementación del DUV, test bench or HDL.</p></li>
<li><p>Su fortaleza se encuentra en su facilidad de implementación y su habilidad de mostrar huecos o áreas sin cubrir dentro del diseño.</p></li>
</ul>
</div>
<div class="section" id="tipos-de-cobertura-estructural">
<h2>Tipos de cobertura estructural<a class="headerlink" href="#tipos-de-cobertura-estructural" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li class="fragment"><p>Cobertura de transiciones “Toggle”:</p>
<ul>
<li><p>Mide cuantas veces una señal o un latch ha cambiado su valor lógico durante la simulación.</p></li>
<li><p>Es muy simple. No es representativo de la calidad de las prueba a nivel funcional.</p></li>
</ul>
</li>
<li class="fragment"><p>Cobertura de línea (statement coverage):</p>
<ul>
<li><p>Mide cuales líneas del HDL fueron ejecutadas durante la simulación.</p></li>
<li><p>Es muy simple y no resultados no permiten conocer si el código ejecutado es correcto.</p></li>
</ul>
</li>
</ul>
<ul class="simple">
<li class="fragment"><p>Cobertura de condiciones o saltos (branch coverage):</p>
<ul>
<li><p>Revisa líneas condicionales dentro del HDL y almacena cuales condiciones se tomaron dentro la simulación.</p></li>
<li><p>Tiene limitaciones con estructuras condicionales de bajo nivel como (multiplexores, ANDs y ORs).</p></li>
</ul>
</li>
<li class="fragment"><p>Cobertura de caminos (path coverage):</p>
<ul>
<li><p>Realiza un análisis en el HDL e identifica combinaciones de caminos decisión.</p></li>
<li><p>Tiene limitaciones con estructuras condicionales de bajo nivel como (multiplexores, ANDs y ORs).</p></li>
</ul>
</li>
</ul>
<ul class="simple">
<li class="fragment"><p>Cobertura de máquinas de estado:</p>
<ul>
<li><p>Realiza un análisis en el HDL sobre estructuras de máquinas de estados (explicitas o inferidas). Mide la cobertura de los estados y los arcos.</p></li>
</ul>
</li>
<li class="fragment"><p>Cobertura de múltiples máquinas de estado:</p>
<ul>
<li><p>Realiza un análisis sobre múltiples máquinas de estados y relación entre ellas.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="cobertura-de-aserciones">
<h2>Cobertura de aserciones<a class="headerlink" href="#cobertura-de-aserciones" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Algunas aserciones pueden revisar condiciones interesantes que sean de interés medir su ocurrencia.</p></li>
<li><p>Cobertura de aserciones mide cuantas veces las aserciones se ha disparado en una prueba.</p></li>
<li><p>En estos casos se utiliza cover property en vez de assert property.</p></li>
</ul>
</div>
<div class="section" id="cobertura-funcional">
<h2>Cobertura funcional<a class="headerlink" href="#cobertura-funcional" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li class="fragment"><p>Tiene como objetivo los aspectos semánticos del diseño.</p></li>
<li class="fragment"><p>No existe una forma automatizada de crear modelos de cobertura funcional.</p></li>
<li class="fragment"><p>Requiere conocimiento del diseño y su complejidad.</p></li>
<li class="fragment"><p>Conocimiento de áreas propensas a bugs.</p></li>
<li class="fragment"><p>Experiencia de los ingenieros.</p></li>
</ul>
<ul class="simple">
<li class="fragment"><p>El modelo más básico de cobertura funcional es la cobertura de eventos</p></li>
<li class="fragment"><p>Se especifica un evento dentro del modelo o test bench que tiene la importancia suficiente para notificar su ocurrencia.</p></li>
<li class="fragment"><p>Tiene gran similitud a la verificación basada en aserciones.</p></li>
<li class="fragment"><p>Los eventos pueden ser simples, estáticos, secuencias temporizadas o predefinidas.</p></li>
<li class="fragment"><p>Los eventos se pueden colectar a través de grupos según funcionalidad o estructura.</p></li>
<li class="fragment"><p>Una forma de agrupar eventos es mediante un producto cruz de eventos relacionados o dependientes (matriz de eventos).</p></li>
<li class="fragment"><p>Pueden generarse eventos ilegales o imposibles. Los eventos ilegales se tienen que transformar en aserciones.</p></li>
</ul>
<div class="figure align-default">
<img alt="_images/tests.constraints.png" src="_images/tests.constraints.png" />
</div>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/coverage.2.png"><img alt="_images/coverage.2.png" src="_images/coverage.2.png" style="width: 695.5px; height: 527.5px;" /></a>
</div>
</div>
<div class="section" id="cobertura">
<h2>Cobertura<a class="headerlink" href="#cobertura" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li class="fragment"><p>El objetivo es tener una cobertura estructural y funcional son alta.</p></li>
<li class="fragment"><p>Al principio del proyecto ambas son bajas y aumentan conformen las pruebas ejercitan el DUV.</p></li>
<li class="fragment"><p>A pesar de que la cobertura sea alta, se debe revisar la tasa de bugs encontrados o utilizar otras técnicas.</p></li>
</ul>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/coverage.3.png"><img alt="_images/coverage.3.png" src="_images/coverage.3.png" style="width: 531.0px; height: 336.5px;" /></a>
</div>
<blockquote class="pull-quote">
<div><p>Bugs are Darwinian. Either they are well adapted to the environment (well-hidden) or they are easily discovered and hence easily killed.</p>
</div></blockquote>
</div>
<div class="section" id="criterio-para-tape-out">
<h2>Criterio para Tape-out<a class="headerlink" href="#criterio-para-tape-out" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Es una serie de listas de control (“checklist”) que indica la finalización del trabajo planeado antes de liberar el diseño a manufactura.</p></li>
<li><p>Métricas: permiten al equipo de ingeniería evaluar el progreso del proyecto</p></li>
</ul>
<p>Taza de bugs: muestra el ritmo en que el equipo de verificación encuentra bugs y los diseñadores en arreglarlas.</p>
<div class="figure align-default">
<img alt="_images/tape.bugs.png" src="_images/tape.bugs.png" />
</div>
<ul class="simple">
<li><p>Métricas: permiten al equipo de ingeniería evaluar el progreso del proyecto:</p></li>
<li><p>Cierre de cobertura: mide que el equipo de verificación ha llegado a las metas de cobertura estructural y funcional.</p></li>
</ul>
<div class="figure align-default">
<img alt="_images/tape.cov.png" src="_images/tape.cov.png" />
</div>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/tape.flow.png"><img alt="_images/tape.flow.png" src="_images/tape.flow.png" style="width: 402.0px; height: 581.4px;" /></a>
</div>
</div>
<div class="section" id="cobertura-funcional-en-sv">
<h2>Cobertura Funcional en SV<a class="headerlink" href="#cobertura-funcional-en-sv" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>En SV los puntos de cobertura funcional se pueden definir dentro de clases, programas o módulos.</p></li>
<li><p>Se utilizan grupos de cobertura para definir los eventos que son de interés.</p></li>
<li><p>Automáticamente crea contenedores (bins) con los valores que puede tomar el punto de cobertura.</p></li>
</ul>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="n">covergroup</span> <span class="n">cov</span><span class="p">;</span>
<span class="nl">Feature_1:</span> <span class="n">coverpoint</span> <span class="n">sb</span><span class="p">.</span><span class="n">store</span><span class="p">;</span>
<span class="n">Feature_2</span> <span class="o">:</span> <span class="n">coverpoint</span> <span class="n">sb</span><span class="p">.</span><span class="n">store</span> <span class="p">{</span><span class="n">bins</span> <span class="n">trans</span> <span class="o">=</span> <span class="p">(</span> <span class="mh">15</span> <span class="o">=&gt;</span> <span class="mh">0</span><span class="p">);}</span>
<span class="n">endgroup</span>

<span class="k">function</span> <span class="n">new</span><span class="p">();</span>
    <span class="n">cov</span> <span class="o">=</span> <span class="n">new</span><span class="p">();</span>
<span class="k">endfunction</span>

<span class="n">cov</span><span class="p">.</span><span class="n">sample</span><span class="p">();</span>
</pre></div>
</div>
<p>Grupo de cobertura con disparador:</p>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="n">covergroup</span> <span class="n">CovDst9</span> <span class="p">@(</span><span class="n">trans_ready</span><span class="p">)</span><span class="o">:</span>
    <span class="n">coverpoint</span> <span class="n">ifc</span><span class="p">.</span><span class="n">cb</span><span class="p">.</span><span class="n">dst</span><span class="p">;</span> <span class="c1">// measure coverage</span>
<span class="n">endgroup</span>
</pre></div>
</div>
<p>Limitar el número de contenedores:</p>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="n">covergroup</span> <span class="n">CovDst12</span><span class="p">;</span>
    <span class="n">coverpoint</span> <span class="n">tr</span><span class="p">.</span><span class="n">dst</span>
        <span class="p">{</span> <span class="n">option</span><span class="p">.</span><span class="n">auto_bin_max</span> <span class="o">=</span> <span class="mh">2</span><span class="p">;</span> <span class="p">}</span> <span class="c1">// divide into 2 bins</span>
<span class="n">endgroup</span>
</pre></div>
</div>
<p>Se pueden asignar nombres a los bins:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>covergroup CovKind18;
    coverpoint p.kind {
        bins zero = {0};        // 1 bin for kind=0
        bins lo = {[1:3], 5};   // 1 bin for values 1:3, 5
        bins hi[] = {[8:$]};    // 8 separate bins: 8..15
        bins misc = default;    // 1 bin for rest, does not count
    }                           // no semicolon
endgroup
</pre></div>
</div>
<p>Cobertura de transiciones:</p>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="n">covergroup</span> <span class="n">CovDst25</span><span class="p">;</span>
    <span class="n">coverpoint</span> <span class="n">tr</span><span class="p">.</span><span class="n">dst</span> <span class="p">{</span>
        <span class="n">bins</span> <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="mh">0</span><span class="o">=&gt;</span><span class="mh">1</span><span class="p">),</span> <span class="p">(</span><span class="mh">0</span><span class="o">=&gt;</span><span class="mh">2</span><span class="p">),</span> <span class="p">(</span><span class="mh">0</span><span class="o">=&gt;</span><span class="mh">3</span><span class="p">);</span>
    <span class="p">}</span>
<span class="n">endgroup</span>
</pre></div>
</div>
<p>Ignorar condiciones:</p>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="n">covergroup</span> <span class="n">CovDst28</span><span class="p">;</span>
    <span class="n">coverpoint</span> <span class="n">tr</span><span class="p">.</span><span class="n">dst</span> <span class="p">{</span>
        <span class="n">option</span><span class="p">.</span><span class="n">auto_bin_max</span> <span class="o">=</span> <span class="mh">4</span><span class="p">;</span>    <span class="c1">// 0:1, 2:3, 4:5, 6:7</span>
        <span class="n">ignore_bins</span> <span class="n">hi</span> <span class="o">=</span> <span class="p">{</span><span class="mh">6</span><span class="p">,</span><span class="mh">7</span><span class="p">};</span>     <span class="c1">// ignore upper 2 values</span>
    <span class="p">}</span>
<span class="n">endgroup</span>
</pre></div>
</div>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="n">covergroup</span> <span class="n">CovDst29</span><span class="p">;</span>
    <span class="n">coverpoint</span> <span class="n">tr</span><span class="p">.</span><span class="n">dst</span> <span class="p">{</span>
        <span class="n">illegal_bins</span> <span class="n">hi</span> <span class="o">=</span> <span class="p">{</span><span class="mh">6</span><span class="p">,</span><span class="mh">7</span><span class="p">};</span>     <span class="c1">// error if seen</span>
    <span class="p">}</span>
<span class="n">endgroup</span>
</pre></div>
</div>
<p>Producto Cruz:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>covergroup CovKind32;
    dst: coverpoint tr.dst {
        bins dst[] = {[0:$]};
    }
    kind: coverpoint tr.kind {
        bins zero = {0};        // 1 bin for kind=0
        bins lo = {[1:3]};      // 1 bin for values 1:3
        bins hi[] = {[8:$]};    // 8 separate bins: 8..15
        bins misc = default;    // 1 bin for rest, does not count
    }
    cross kind, dst;
endgroup
</pre></div>
</div>
<p>Contenedores dentro del producto cruz:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">covergroup</span> <span class="n">CrossBinNames</span><span class="p">;</span>
    <span class="n">a</span><span class="p">:</span> <span class="n">coverpoint</span> <span class="n">sam</span><span class="o">.</span><span class="n">a</span> <span class="p">{</span>
        <span class="n">bins</span> <span class="n">a0</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
        <span class="n">bins</span> <span class="n">a1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">};</span>
        <span class="n">option</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="o">//</span> <span class="n">don</span><span class="s1">&#39;t count this coverpoint</span>
    <span class="p">}</span>
    <span class="n">b</span><span class="p">:</span> <span class="n">coverpoint</span> <span class="n">sam</span><span class="o">.</span><span class="n">b</span> <span class="p">{</span>
        <span class="n">bins</span> <span class="n">b0</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
        <span class="n">bins</span> <span class="n">b1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">};</span>
        <span class="n">option</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="o">//</span> <span class="n">don</span><span class="s1">&#39;t count this coverpoint</span>
    <span class="p">}</span>
    <span class="n">ab</span><span class="p">:</span> <span class="n">cross</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="p">{</span>
        <span class="n">bins</span> <span class="n">a0b0</span> <span class="o">=</span> <span class="n">binsof</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">a0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">binsof</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">b0</span><span class="p">);</span>
        <span class="n">bins</span> <span class="n">a1b1</span> <span class="o">=</span> <span class="n">binsof</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">a1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">binsof</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">b0</span><span class="p">);</span>
        <span class="n">bins</span> <span class="n">b1</span> <span class="o">=</span> <span class="n">binsof</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">b1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="n">endgroup</span>
</pre></div>
</div>
</div>
<div class="section" id="bibliografia">
<h2>Bibliografía<a class="headerlink" href="#bibliografia" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>B. Wile, J. Goss y W. Roesner. “Comprehensive Functional Verification The Complete Industry Cycle” Elsevier, Primera Edición, 2005.</p></li>
<li><p>C. Spear, G. Tumbush. “System Verilog for Verification: A Guide to Learning the Testbench Language Features ” Springer, Tercera Edición, 2005.</p></li>
</ul>
</div>
</div>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Melvin Alvarado.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>